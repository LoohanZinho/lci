(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{285:(e,a,t)=>{"use strict";t.d(a,{$:()=>d,r:()=>i});var s=t(5155),r=t(2115),l=t(9708),n=t(2085),o=t(9434);let i=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:t,variant:r,size:n,asChild:d=!1,...c}=e,m=d?l.DX:"button";return(0,s.jsx)(m,{className:(0,o.cn)(i({variant:r,size:n,className:t})),ref:a,...c})});d.displayName="Button"},460:(e,a,t)=>{"use strict";t.d(a,{AuthProvider:()=>u,A:()=>f});var s=t(5155),r=t(2115),l=t(3004),n=t(6104),o=t(5695);function i(){return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,s.jsx)("p",{className:"mt-4 text-lg text-muted-foreground",children:"Verificando sess\xe3o..."})]})}var d=t(5317);let c=["lohansantosborges@gmail.com","natanrabelo934@gmail.com"],m=(0,r.createContext)(void 0);function u(e){let{children:a}=e,[t,u]=(0,r.useState)(null),[f,x]=(0,r.useState)(null),[p,h]=(0,r.useState)(!0),[g,j]=(0,r.useState)(!1),b=(0,o.useRouter)(),N=(0,o.usePathname)();(0,r.useEffect)(()=>{let e=(0,l.hg)(n.j2,async e=>{if(u(e),e){j(c.includes(e.email||""));let a=(0,d.H9)(n.db,"users",e.uid),t=await (0,d.x7)(a);if(t.exists())x(t.data());else{let t={name:e.displayName||"",email:e.email||"",isAnonymous:!e.displayName};await (0,d.BN)(a,t),x(t)}}else j(!1),x(null);h(!1)});return()=>e()},[]),(0,r.useEffect)(()=>{if(p)return;let e="/login"===N||"/signup"===N;t||e?t&&e&&b.push("/"):b.push("/login")},[t,p,N,b]);let v=async(e,a,t)=>{let s=(await (0,l.eJ)(n.j2,e,a)).user;if(s){await (0,l.r7)(s,{displayName:t});let a={name:t,email:e,isAnonymous:!1};await (0,d.BN)((0,d.H9)(n.db,"users",s.uid),a),await s.reload(),u(n.j2.currentUser),x(a)}},y=async(e,a)=>{await (0,l.x9)(n.j2,e,a)},w=async()=>{await (0,l.CI)(n.j2)},C=async e=>{if(n.j2.currentUser){await (0,l.r7)(n.j2.currentUser,{displayName:e.name});let a=(0,d.H9)(n.db,"users",n.j2.currentUser.uid),t={name:e.name,email:n.j2.currentUser.email||"",isAnonymous:e.isAnonymous};await (0,d.BN)(a,t,{merge:!0}),await n.j2.currentUser.reload(),u(n.j2.currentUser),x(t)}else throw Error("Nenhum usu\xe1rio logado para atualizar.")};return(0,s.jsx)(m.Provider,{value:{user:t,loading:p,isAdmin:g,userProfile:f,signup:v,login:y,logout:w,updateUserProfile:C},children:p?(0,s.jsx)(i,{}):a})}function f(){let e=(0,r.useContext)(m);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1529:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>e3});var s=t(5155),r=t(285),l=t(2523),n=t(5057),o=t(2115),i=t(8715),d=t(6474),c=t(5196),m=t(9434);let u=i.bL;i.YJ;let f=i.WT,x=o.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(i.l9,{ref:a,className:(0,m.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...l,children:[r,(0,s.jsx)(i.In,{asChild:!0,children:(0,s.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=i.l9.displayName;let p=o.forwardRef((e,a)=>{let{className:t,children:r,position:l="popper",...n}=e;return(0,s.jsx)(i.ZL,{children:(0,s.jsx)(i.UC,{ref:a,className:(0,m.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...n,children:(0,s.jsx)(i.LM,{className:(0,m.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})})})});p.displayName=i.UC.displayName,o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.JU,{ref:a,className:(0,m.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=i.JU.displayName;let h=o.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(i.q7,{ref:a,className:(0,m.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.VF,{children:(0,s.jsx)(c.A,{className:"h-4 w-4"})})}),(0,s.jsx)(i.p4,{children:r})]})});h.displayName=i.q7.displayName,o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.wv,{ref:a,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=i.wv.displayName;let g=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("textarea",{className:(0,m.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...r})});g.displayName="Textarea";var j=t(5317),b=t(6104),N=t(858);let v=(e,a,t)=>new Promise((s,r)=>{let l="".concat(Date.now(),".").concat(a.name.split(".").pop()),n="influencer-proofs/".concat(e,"/").concat(l),o=(0,N.KR)(b.IG,n),i=(0,N.bp)(o,a);i.on("state_changed",e=>{t(e.bytesTransferred/e.totalBytes*100)},e=>{console.error("Upload failed:",e),r(Error('Falha no upload de "'.concat(a.name,'". Causa: ').concat(e.message)))},()=>{(0,N.qk)(i.snapshot.ref).then(e=>{s(e)}).catch(r)})}),y=async e=>{if(e)try{let a=(0,N.KR)(b.IG,e);await (0,N.XR)(a),console.log("Imagem exclu\xedda com sucesso do storage.")}catch(e){if("storage/object-not-found"!==e.code)throw console.error("Erro ao excluir a imagem do storage:",e),e;console.log("Imagem n\xe3o encontrada no storage, provavelmente j\xe1 foi exclu\xedda.")}},w=async e=>{try{let a=await (0,j.gS)((0,j.rJ)(b.db,"influencers"),{...e,proofImageUrls:e.proofImageUrls||[],editors:[],lastUpdate:(0,j.O5)()});return console.log("Document written with ID: ",a.id),a}catch(e){throw console.error("Error adding document: ",e),e}},C=async(e,a,t)=>{try{let s=(0,j.H9)(b.db,"influencers",e),r={userId:a,timestamp:j.Dc.now()};await (0,j.mZ)(s,{...t,editors:(0,j.hq)(r),lastUpdate:(0,j.O5)()}),console.log("Document successfully updated!")}catch(e){throw console.error("Error updating document: ",e),e}},A=async e=>{if(0===e.length)return{};let a=[...new Set(e)],t=[];for(let e=0;e<a.length;e+=30){let s=a.slice(e,e+30);if(s.length>0){let e=(0,j.rJ)(b.db,"users"),a=(0,j.P)(e,R("__name__","in",s));t.push((0,j.GG)(a))}}try{let e=await Promise.all(t),a={};for(let t of e)t.forEach(e=>{a[e.id]=e.data()});return a}catch(e){return console.error("Error fetching users data: ",e),{}}},{where:R}=t(5006),k=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lastUpdate",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc",s=(0,j.P)((0,j.rJ)(b.db,"influencers"),(0,j.My)(a,t));return(0,j.aQ)(s,async a=>{let t=[];a.forEach(e=>{t.push({id:e.id,...e.data()})});let s=t.flatMap(e=>[e.addedBy,...(e.editors||[]).map(e=>e.userId)]).filter(Boolean),r=await A(s);e(t.map(e=>({...e,addedByData:r[e.addedBy],editorsData:(e.editors||[]).map(e=>{let a=r[e.userId];return a?{...a,timestamp:e.timestamp}:null}).filter(Boolean)})))},e=>{console.error("Error getting influencers: ",e)})},S=async e=>{try{let a=await (0,j.x7)((0,j.H9)(b.db,"influencers",e));if(!a.exists())throw Error("Influencer not found");let t=a.data();t.proofImageUrls&&t.proofImageUrls.length>0&&await Promise.all(t.proofImageUrls.map(e=>y(e))),await (0,j.kd)((0,j.H9)(b.db,"influencers",e)),console.log("Document successfully deleted!")}catch(e){throw console.error("Error removing document: ",e),e}};var F=t(460),I=t(5863);let E=o.forwardRef((e,a)=>{let{className:t,value:r,...l}=e;return(0,s.jsx)(I.bL,{ref:a,className:(0,m.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...l,children:(0,s.jsx)(I.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});E.displayName=I.bL.displayName;var U=t(4416),B=t(2337),D=t(5339),z=t(6766);let L=e=>e<=1e4?"Nano":e<=1e5?"Micro":e<=5e5?"M\xe9dio":e<=1e6?"Macro":"Mega",J=e=>{switch(e){case"Nano":return"bg-slate-200 text-slate-800 border-slate-300";case"Micro":return"bg-blue-200 text-blue-800 border-blue-300";case"M\xe9dio":return"bg-green-200 text-green-800 border-green-300";case"Macro":return"bg-amber-200 text-amber-800 border-amber-300";case"Mega":return"bg-purple-200 text-purple-800 border-purple-300";default:return""}},M={name:"",instagram:"",followers:"",status:"Dispon\xedvel",niche:"",contact:"",notes:"",isFumo:!1,proofImageUrls:[]},P=e=>{if(!e)return"";let a=e.replace(/\D/g,"");return""===a?"":new Intl.NumberFormat("pt-BR").format(parseInt(a,10))},O=e=>e?e.replace(/\D/g,""):"";function _(e){let{influencer:a,onFinished:t}=e,[i,d]=(0,o.useState)(M),[c,m]=(0,o.useState)(null),[j,b]=(0,o.useState)(!1),{user:N}=(0,F.A)(),[A,R]=(0,o.useState)([]),[k,S]=(0,o.useState)([]),[I,J]=(0,o.useState)(null),[_,V]=(0,o.useState)(""),T=(0,o.useRef)(null),$=!!a,q=parseInt(O(i.followers),10)||0,H=L(q);(0,o.useEffect)(()=>{a?(d({name:a.name,instagram:a.instagram.startsWith("@")?a.instagram.substring(1):a.instagram,followers:P(a.followers.toString()),status:a.status,niche:a.niche,contact:a.contact,notes:a.notes,isFumo:a.isFumo,proofImageUrls:a.proofImageUrls||[]}),S(a.proofImageUrls||[])):(d(M),S([])),R([])},[a]);let Z=e=>{let a=k[e];if(S(a=>a.filter((a,t)=>t!==e)),a.startsWith("blob:")){let e=A.findIndex(e=>URL.createObjectURL(e)===a);e>-1&&R(a=>a.filter((a,t)=>t!==e))}},G=e=>{let{id:a,value:t,type:s}=e.target;if("checkbox"===s){let{checked:t}=e.target;d(e=>({...e,[a]:t}))}else"followers"===a?d(e=>({...e,followers:P(t)})):d(e=>({...e,[a]:t}))},W=async e=>{if(e.preventDefault(),!N)return void m("Voc\xea precisa estar logado para realizar esta a\xe7\xe3o.");b(!0),m(null),J(null),V("");try{let e=$?k.filter(e=>!e.startsWith("blob:")):[];if($){let e=((null==a?void 0:a.proofImageUrls)||[]).filter(e=>!k.includes(e));e.length>0&&(V("Removendo ".concat(e.length," imagem(ns)...")),await Promise.all(e.map(e=>y(e))))}if(A.length>0){let t=(null==a?void 0:a.id)||Date.now().toString(),s=[],r=0;J(0),V("Enviando 0 de ".concat(A.length,"...")),await Promise.all(A.map(async(e,a)=>{try{let a=await v(t,e,e=>{});s.push(a);let l=++r/A.length*100;J(l),V("Enviando ".concat(r," de ").concat(A.length,"..."))}catch(a){throw console.error("Upload Error:",a),Error('Falha no upload de "'.concat(e.name,'". Causa: ').concat(a.message||"Erro desconhecido"))}})),e=[...e,...s]}V("Salvando dados...");let s={name:i.name,instagram:i.instagram.startsWith("@")?i.instagram:"@".concat(i.instagram),followers:parseInt(O(i.followers),10),status:i.status,niche:i.niche,contact:i.contact,notes:i.notes,isFumo:i.isFumo,proofImageUrls:e};if($&&a){let e={...s};await C(a.id,N.uid,e)}else{let e={...s,addedBy:N.uid};await w(e)}t&&t()}catch(e){console.error(e),m(e.message||"Falha ao ".concat($?"atualizar":"adicionar"," influenciador. Tente novamente."))}finally{b(!1),J(null),V("")}};return(0,s.jsx)("div",{className:"py-4 max-h-[70vh] overflow-y-auto px-1 pr-4",children:(0,s.jsxs)("form",{onSubmit:W,children:[(0,s.jsxs)("div",{className:"grid w-full items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(n.J,{htmlFor:"name",children:"Nome do Influenciador"}),(0,s.jsx)(l.p,{id:"name",placeholder:"Ex: Maria Souza",value:i.name,onChange:G,required:!0,disabled:j})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(n.J,{htmlFor:"instagram",children:"Instagram"}),(0,s.jsxs)("div",{className:"flex h-10 w-full items-center rounded-md border border-input bg-transparent px-3 text-sm ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"@"}),(0,s.jsx)(l.p,{id:"instagram",placeholder:"username",value:i.instagram.replace(/@/g,""),onChange:e=>d(a=>({...a,instagram:e.target.value.replace(/@/g,"")})),required:!0,className:"border-0 bg-transparent p-0 pl-1 focus-visible:ring-0 focus-visible:ring-offset-0",disabled:j})]})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(n.J,{htmlFor:"followers",children:"Seguidores"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.p,{id:"followers",type:"text",inputMode:"numeric",placeholder:"Ex: 150.000",value:i.followers,onChange:G,required:!0,disabled:j,className:"flex-1"}),q>0&&(0,s.jsx)("span",{className:"text-sm text-muted-foreground bg-secondary px-3 py-2 rounded-md",children:H})]})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(n.J,{htmlFor:"niche",children:"Nicho/Segmento"}),(0,s.jsx)(l.p,{id:"niche",placeholder:"Ex: Fitness, Moda",value:i.niche,onChange:G,disabled:j})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(n.J,{htmlFor:"status",children:"Status"}),(0,s.jsxs)(u,{value:i.status,onValueChange:e=>{d(a=>({...a,status:e}))},disabled:j,children:[(0,s.jsx)(x,{id:"status",children:(0,s.jsx)(f,{placeholder:"Selecione o status"})}),(0,s.jsxs)(p,{position:"popper",children:[(0,s.jsx)(h,{value:"Dispon\xedvel",children:"Dispon\xedvel"}),(0,s.jsx)(h,{value:"Em negocia\xe7\xe3o",children:"Em negocia\xe7\xe3o"}),(0,s.jsx)(h,{value:"Fechado",children:"Fechado"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(n.J,{htmlFor:"contact",children:"Contato Preferencial (opcional)"}),(0,s.jsx)(l.p,{id:"contact",placeholder:"Email ou WhatsApp",value:i.contact,onChange:G,disabled:j})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(n.J,{htmlFor:"notes",children:"Observa\xe7\xf5es/Situa\xe7\xe3o"}),(0,s.jsx)(g,{id:"notes",placeholder:"Responde r\xe1pido, cobra valor fixo...",value:i.notes,onChange:G,disabled:j})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(n.J,{htmlFor:"proofImage",children:"Prova (Print, etc.)"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:[k.map((e,a)=>(0,s.jsxs)("div",{className:"relative w-full aspect-square rounded-md overflow-hidden group",children:[(0,s.jsx)(z.default,{src:e,alt:"Pr\xe9-visualiza\xe7\xe3o ".concat(a+1),fill:!0,style:{objectFit:"cover"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)(r.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>Z(a),disabled:j,className:"h-8 w-8",children:(0,s.jsx)(U.A,{className:"h-4 w-4"})})})]},a)),k.length<10&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center w-full aspect-square border-2 border-dashed rounded-md cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{var e;return null==(e=T.current)?void 0:e.click()},children:[(0,s.jsx)(B.A,{className:"h-8 w-8 text-muted-foreground mb-2"}),(0,s.jsxs)("p",{className:"text-xs text-center text-muted-foreground",children:["Adicionar (",k.length,"/10)"]})]})]}),(0,s.jsx)(l.p,{id:"proofImage",type:"file",accept:"image/png, image/jpeg, image/gif",onChange:e=>{let a=e.target.files;if(!a)return;let t=Array.from(a);if(k.length+t.length>10)return void m("Voc\xea pode adicionar no m\xe1ximo 10 imagens.");for(let e of t)if(e.size>5242880)return void m('A imagem "'.concat(e.name,'" excede o limite de 5MB.'));m(null),R([...A,...t]);let s=t.map(e=>URL.createObjectURL(e));S(e=>[...e,...s])},className:"hidden",ref:T,disabled:j||k.length>=10,multiple:!0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground/80 mt-1",children:"PNG, JPG, GIF at\xe9 5MB cada."})]}),null!==I&&!c&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(n.J,{className:"text-primary",children:_}),(0,s.jsxs)("span",{className:"text-sm font-medium text-primary",children:[Math.round(I),"%"]})]}),(0,s.jsx)(E,{value:I,className:"h-2"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"isFumo",checked:i.isFumo,onChange:G,className:"h-4 w-4",disabled:j}),(0,s.jsx)(n.J,{htmlFor:"isFumo",className:"cursor-pointer",children:'Marcar como "Fumo" (N\xe3o deu ROI)'})]}),c&&(0,s.jsxs)("div",{className:"text-sm text-destructive flex items-center gap-2",children:[(0,s.jsx)(D.A,{className:"h-4 w-4"})," ",c]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 pt-6",children:[(0,s.jsx)(r.$,{type:"button",variant:"ghost",onClick:()=>{t&&t()},disabled:j,children:"Cancelar"}),(0,s.jsx)(r.$,{type:"submit",disabled:j,children:j?_?"Enviando...":$?"Salvando...":"Adicionando...":$?"Salvar Altera\xe7\xf5es":"Adicionar"})]})]})})}var V=t(2713),T=t(2098),$=t(3509),q=t(1007),H=t(4835),Z=t(7924),G=t(9103);let W=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,m.cn)("w-full caption-bottom text-sm",t),...r})})});W.displayName="Table";let X=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("thead",{ref:a,className:(0,m.cn)("[&_tr]:border-b",t),...r})});X.displayName="TableHeader";let Y=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tbody",{ref:a,className:(0,m.cn)("[&_tr:last-child]:border-0",t),...r})});Y.displayName="TableBody",o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tfoot",{ref:a,className:(0,m.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let K=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tr",{ref:a,className:(0,m.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});K.displayName="TableRow";let Q=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("th",{ref:a,className:(0,m.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});Q.displayName="TableHead";let ee=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("td",{ref:a,className:(0,m.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});ee.displayName="TableCell",o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("caption",{ref:a,className:(0,m.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption";let ea=(0,t(2085).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function et(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,m.cn)(ea({variant:t}),a),...r})}var es=t(7580),er=t(5607),el=t(2657),en=t(3717),eo=t(2525),ei=t(7649);let ed=ei.bL;ei.l9;let ec=ei.ZL,em=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ei.hJ,{className:(0,m.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a})});em.displayName=ei.hJ.displayName;let eu=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsxs)(ec,{children:[(0,s.jsx)(em,{}),(0,s.jsx)(ei.UC,{ref:a,className:(0,m.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});eu.displayName=ei.UC.displayName;let ef=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,m.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};ef.displayName="AlertDialogHeader";let ex=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,m.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};ex.displayName="AlertDialogFooter";let ep=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ei.hE,{ref:a,className:(0,m.cn)("text-lg font-semibold",t),...r})});ep.displayName=ei.hE.displayName;let eh=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ei.VY,{ref:a,className:(0,m.cn)("text-sm text-muted-foreground",t),...r})});eh.displayName=ei.VY.displayName;let eg=o.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(ei.rc,{ref:a,className:(0,m.cn)((0,r.r)(),t),...l})});eg.displayName=ei.rc.displayName;let ej=o.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(ei.ZD,{ref:a,className:(0,m.cn)((0,r.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...l})});function eb(e){let{isOpen:a,onClose:t,onConfirm:l,title:n,description:o,confirmText:i="Confirmar",cancelText:d="Cancelar",isLoading:c=!1}=e;return(0,s.jsx)(ed,{open:a,onOpenChange:t,children:(0,s.jsxs)(eu,{children:[(0,s.jsxs)(ef,{children:[(0,s.jsx)(ep,{children:n}),(0,s.jsx)(eh,{children:o})]}),(0,s.jsxs)(ex,{children:[(0,s.jsx)(ej,{onClick:t,disabled:c,children:d}),(0,s.jsx)(eg,{asChild:!0,children:(0,s.jsx)(r.$,{onClick:l,disabled:c,variant:"destructive",children:c?"Excluindo...":i})})]})]})})}function eN(e){let{influencer:a,onEdit:t,onView:l}=e,[n,i]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),m=async()=>{i(!0);try{await S(a.id),c(!1)}catch(e){console.error("Failed to delete influencer",e),alert("Falha ao excluir o influenciador.")}finally{i(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-1",children:[(0,s.jsxs)(r.$,{variant:"ghost",size:"icon",onClick:l,children:[(0,s.jsx)(el.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Ver detalhes"})]}),(0,s.jsxs)(r.$,{variant:"ghost",size:"icon",onClick:t,children:[(0,s.jsx)(en.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Editar"})]}),(0,s.jsxs)(r.$,{variant:"ghost",size:"icon",onClick:()=>c(!0),disabled:n,className:"text-destructive hover:text-destructive",children:[(0,s.jsx)(eo.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Excluir"})]})]}),(0,s.jsx)(eb,{isOpen:d,onClose:()=>c(!1),onConfirm:m,title:"Confirmar Exclus\xe3o",description:'Tem certeza que deseja excluir "'.concat(a.name,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.'),confirmText:"Excluir",isLoading:n})]})}ej.displayName=ei.ZD.displayName;var ev=t(5452);let ey=ev.bL,ew=ev.l9,eC=ev.ZL;ev.bm;let eA=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ev.hJ,{ref:a,className:(0,m.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});eA.displayName=ev.hJ.displayName;let eR=o.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(eC,{children:[(0,s.jsx)(eA,{}),(0,s.jsxs)(ev.UC,{ref:a,className:(0,m.cn)("fixed z-50 grid w-full gap-4 border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom sm:max-w-lg sm:rounded-lg sm:data-[state=closed]:slide-out-to-left-1/2 sm:data-[state=closed]:slide-out-to-top-[48%] sm:data-[state=open]:slide-in-from-left-1/2 sm:data-[state=open]:slide-in-from-top-[48%]","bottom-0 sm:bottom-auto sm:left-[50%] sm:top-[50%] sm:translate-x-[-50%] sm:translate-y-[-50%]",t),...l,children:[r,(0,s.jsxs)(ev.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(U.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eR.displayName=ev.UC.displayName;let ek=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,m.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};ek.displayName="DialogHeader";let eS=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ev.hE,{ref:a,className:(0,m.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});eS.displayName=ev.hE.displayName;let eF=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ev.VY,{ref:a,className:(0,m.cn)("text-sm text-muted-foreground",t),...r})});function eI(e){let{influencer:a,isOpen:t,onClose:r}=e;return(0,s.jsx)(ey,{open:t,onOpenChange:e=>!e&&r(),children:(0,s.jsxs)(eR,{children:[(0,s.jsxs)(ek,{children:[(0,s.jsx)(eS,{children:"Editar Influenciador"}),(0,s.jsx)(eF,{children:"Fa\xe7a altera\xe7\xf5es nos dados do influenciador. Clique em salvar quando terminar."})]}),(0,s.jsx)(_,{influencer:a,onFinished:r})]})})}eF.displayName=eF.displayName;var eE=t(9772),eU=t(5778);let eB=e=>{let{label:a,value:t}=e;return(0,s.jsxs)("div",{className:"grid grid-cols-3 items-start gap-4 py-3 border-b border-border/50",children:[(0,s.jsx)("span",{className:"font-semibold text-muted-foreground",children:a}),(0,s.jsx)("div",{className:"col-span-2 text-foreground",children:t})]})};function eD(e){var a,t,r,l,n;let{influencer:o,isOpen:i,onClose:d}=e,{user:c,isAdmin:m}=(0,F.A)(),u=L(o.followers),f=null==(a=o.addedByData)?void 0:a.isAnonymous;return(0,s.jsx)(ey,{open:i,onOpenChange:e=>!e&&d(),children:(0,s.jsxs)(eR,{className:"sm:max-w-md max-h-[85vh] overflow-y-auto",children:[(0,s.jsxs)(ek,{children:[(0,s.jsxs)(eS,{className:"flex items-center gap-2 text-xl",children:[o.name,o.isFumo&&(0,s.jsx)(et,{variant:"destructive",className:"p-1 rounded-full",children:(0,s.jsx)(er.A,{className:"h-4 w-4"})})]}),(0,s.jsx)(eF,{children:o.instagram})]}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)(eB,{label:"Classifica\xe7\xe3o",value:(0,s.jsx)(et,{variant:"outline",className:J(u),children:u})}),(0,s.jsx)(eB,{label:"Seguidores",value:o.followers.toLocaleString("pt-BR")}),(0,s.jsx)(eB,{label:"Nicho",value:o.niche||"N\xe3o informado"}),(0,s.jsx)(eB,{label:"Status",value:o.status}),(0,s.jsx)(eB,{label:"Contato",value:o.contact||"N\xe3o informado"}),(0,s.jsx)(eB,{label:"Observa\xe7\xf5es",value:(0,s.jsx)("p",{className:"whitespace-pre-wrap",children:o.notes||"Nenhuma observa\xe7\xe3o."})}),o.proofImageUrls&&o.proofImageUrls.length>0&&(0,s.jsxs)("div",{className:"py-3 border-b border-border/50",children:[(0,s.jsx)("span",{className:"font-semibold text-muted-foreground mb-2 block",children:"Provas"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:o.proofImageUrls.map((e,a)=>(0,s.jsx)("div",{className:"relative w-full aspect-video rounded-md overflow-hidden",children:(0,s.jsx)(z.default,{src:e,alt:"Prova ".concat(a+1," para ").concat(o.name),fill:!0,style:{objectFit:"contain"}})},a))})]}),(0,s.jsxs)("div",{className:"py-3",children:[(0,s.jsx)("h4",{className:"font-semibold text-muted-foreground mb-3",children:"Linha do Tempo de Edi\xe7\xf5es"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 text-primary",children:(0,s.jsx)(eE.A,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium",children:["Adicionado por ",o.addedBy===(null==c?void 0:c.uid)?"Voc\xea":(null==(l=o.addedByData)?void 0:l.isAnonymous)&&!m?"An\xf4nimo":(null==(n=o.addedByData)?void 0:n.name)||"An\xf4nimo"]}),m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:null==(t=o.addedByData)?void 0:t.email}),f&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-amber-600 mt-1",children:[(0,s.jsx)(eU.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:"Modo An\xf4nimo Ativado"})]})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["em ",null==(r=o.lastUpdate)?void 0:r.toDate().toLocaleString("pt-BR",{day:"2-digit",month:"numeric",year:"numeric"})]})]})]}),o.editorsData&&o.editorsData.filter(e=>!e.isAnonymous||m).map((e,a)=>{var t,r;if(e.email===(null==(t=o.addedByData)?void 0:t.email))return null;let l=e.isAnonymous&&!m?"An\xf4nimo":e.name;return(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-secondary text-secondary-foreground",children:(0,s.jsx)(en.A,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium",children:["Editado por ",l]}),m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.email}),e.isAnonymous&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-amber-600 mt-1",children:[(0,s.jsx)(eU.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:"Modo An\xf4nimo Ativado"})]})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["em ",(null==(r=e.timestamp)?void 0:r.toDate().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))||"N/A"]})]})]},a)}),(!o.editorsData||0===o.editorsData.length)&&(0,s.jsx)("div",{className:"text-center text-xs text-muted-foreground/80 pt-2",children:"Nenhuma edi\xe7\xe3o registrada."})]})]})]})]})})}let ez=e=>e?e.charAt(0).toUpperCase():"?";function eL(e){let{influencers:a,loading:t}=e,[r,l]=(0,o.useState)(null),[n,i]=(0,o.useState)(null),{user:d,isAdmin:c}=(0,F.A)(),u=e=>{l(e)},f=e=>{i(e)};return t?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("p",{children:"Carregando influenciadores..."})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"rounded-lg border bg-card",children:(0,s.jsxs)(W,{children:[(0,s.jsx)(X,{children:(0,s.jsxs)(K,{children:[(0,s.jsx)(Q,{children:"Influenciador"}),(0,s.jsx)(Q,{className:"hidden sm:table-cell text-center",children:"Classifica\xe7\xe3o"}),(0,s.jsx)(Q,{className:"hidden md:table-cell",children:"Seguidores"}),(0,s.jsx)(Q,{className:"hidden md:table-cell",children:"Status"}),(0,s.jsx)(Q,{className:"text-center",children:"Fumo"}),(0,s.jsx)(Q,{className:"text-right hidden lg:table-cell",children:"\xdaltima Edi\xe7\xe3o"}),(0,s.jsx)(Q,{className:"w-[120px] text-right",children:"A\xe7\xf5es"})]})}),(0,s.jsx)(Y,{children:0!==a.length||t?a.map(e=>{var a,t,r;let l,n=L(e.followers),o=(null==d?void 0:d.uid)===e.addedBy,i=null==(a=e.addedByData)?void 0:a.isAnonymous;return l=o?"Voc\xea":(!i||c)&&(null==(r=e.addedByData)?void 0:r.name)||"An\xf4nimo",(0,s.jsxs)(K,{children:[(0,s.jsx)(ee,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary/20 text-primary font-bold",children:ez(e.name)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:e.instagram}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground/80 mt-1",children:["Anunciado por: ",l]})]})]})}),(0,s.jsx)(ee,{className:"hidden sm:table-cell text-center",children:(0,s.jsx)(et,{variant:"outline",className:J(n),children:n})}),(0,s.jsx)(ee,{className:"hidden md:table-cell",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(es.A,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:(0,m.Z)(e.followers)})]})}),(0,s.jsx)(ee,{className:"hidden md:table-cell",children:e.status||"Dispon\xedvel"}),(0,s.jsx)(ee,{className:"text-center",children:e.isFumo&&(0,s.jsx)(et,{variant:"destructive",className:"p-1.5",children:(0,s.jsx)(er.A,{className:"h-4 w-4"})})}),(0,s.jsx)(ee,{className:"text-right hidden lg:table-cell",children:null==(t=e.lastUpdate)?void 0:t.toDate().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,s.jsx)(ee,{className:"text-right",children:(0,s.jsx)(eN,{influencer:e,onEdit:()=>u(e),onView:()=>f(e)})})]},e.id)}):(0,s.jsx)(K,{children:(0,s.jsx)(ee,{colSpan:7,className:"text-center",children:"Nenhum influenciador encontrado."})})})]})}),r&&(0,s.jsx)(eI,{influencer:r,isOpen:!!r,onClose:()=>l(null)}),n&&(0,s.jsx)(eD,{influencer:n,isOpen:!!n,onClose:()=>i(null)})]})}var eJ=t(1362),eM=t(547);let eP=eM.bL,eO=eM.l9,e_=o.forwardRef((e,a)=>{let{className:t,align:r="center",sideOffset:l=4,...n}=e;return(0,s.jsx)(eM.ZL,{children:(0,s.jsx)(eM.UC,{ref:a,align:r,sideOffset:l,className:(0,m.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});e_.displayName=eM.UC.displayName;var eV=t(7740);let eT=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(eV.uB,{ref:a,className:(0,m.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...r})});eT.displayName=eV.uB.displayName;let e$=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(Z.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(eV.uB.Input,{ref:a,className:(0,m.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...r})]})});e$.displayName=eV.uB.Input.displayName;let eq=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(eV.uB.List,{ref:a,className:(0,m.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...r})});eq.displayName=eV.uB.List.displayName;let eH=o.forwardRef((e,a)=>(0,s.jsx)(eV.uB.Empty,{ref:a,className:"py-6 text-center text-sm",...e}));eH.displayName=eV.uB.Empty.displayName;let eZ=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(eV.uB.Group,{ref:a,className:(0,m.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...r})});eZ.displayName=eV.uB.Group.displayName,o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(eV.uB.Separator,{ref:a,className:(0,m.cn)("-mx-1 h-px bg-border",t),...r})}).displayName=eV.uB.Separator.displayName;let eG=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(eV.uB.Item,{ref:a,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",t),...r})});eG.displayName=eV.uB.Item.displayName;var eW=t(9449),eX=t(3052),eY=t(9428);let eK=eW.bL,eQ=eW.l9;eW.YJ,eW.ZL,eW.Pb,eW.z6,o.forwardRef((e,a)=>{let{className:t,inset:r,children:l,...n}=e;return(0,s.jsxs)(eW.ZP,{ref:a,className:(0,m.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...n,children:[l,(0,s.jsx)(eX.A,{className:"ml-auto h-4 w-4"})]})}).displayName=eW.ZP.displayName,o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(eW.G5,{ref:a,className:(0,m.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=eW.G5.displayName;let e0=o.forwardRef((e,a)=>{let{className:t,sideOffset:r=4,...l}=e;return(0,s.jsx)(eW.ZL,{children:(0,s.jsx)(eW.UC,{ref:a,sideOffset:r,className:(0,m.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})})});e0.displayName=eW.UC.displayName;let e1=o.forwardRef((e,a)=>{let{className:t,inset:r,...l}=e;return(0,s.jsx)(eW.q7,{ref:a,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",t),...l})});e1.displayName=eW.q7.displayName,o.forwardRef((e,a)=>{let{className:t,children:r,checked:l,...n}=e;return(0,s.jsxs)(eW.H_,{ref:a,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:l,...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(eW.VF,{children:(0,s.jsx)(c.A,{className:"h-4 w-4"})})}),r]})}).displayName=eW.H_.displayName,o.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(eW.hN,{ref:a,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(eW.VF,{children:(0,s.jsx)(eY.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=eW.hN.displayName;let e5=o.forwardRef((e,a)=>{let{className:t,inset:r,...l}=e;return(0,s.jsx)(eW.JU,{ref:a,className:(0,m.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...l})});e5.displayName=eW.JU.displayName;let e2=o.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(eW.wv,{ref:a,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",t),...r})});e2.displayName=eW.wv.displayName;var e4=t(6874),e8=t.n(e4);function e3(){var e,a;let{user:t,logout:i}=(0,F.A)(),[d,c]=(0,o.useState)("Ol\xe1"),[m,g]=(0,o.useState)(""),{theme:j,setTheme:b}=(0,eJ.D)(),[N,v]=(0,o.useState)([]),[y,w]=(0,o.useState)(!1),[C,A]=(0,o.useState)(!1),[R,S]=(0,o.useState)(!0),[I,E]=(0,o.useState)("lastUpdate"),[U,B]=(0,o.useState)("desc"),[D,z]=(0,o.useState)("all"),[L,J]=(0,o.useState)(1);(0,o.useEffect)(()=>{S(!0);let e=k(e=>{v(e),S(!1)},I,U);return()=>e()},[I,U]),(0,o.useEffect)(()=>{c((()=>{let e=new Date().getHours();return e>=5&&e<12?"Bom dia":e>=12&&e<18?"Boa tarde":"Boa noite"})())},[]);let M=e=>{g(e),w(!1)},P=(0,o.useMemo)(()=>{let e=N;if("all"!==D&&(e=e.filter(e=>e.status===D)),!m)return e;let a=m.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(a)||e.instagram.toLowerCase().includes(a)||e.notes&&e.notes.toLowerCase().includes(a)||e.status&&e.status.toLowerCase().includes(a))},[N,m,D]),O=Math.ceil(P.length/50),W=(0,o.useMemo)(()=>{let e=(L-1)*50;return P.slice(e,e+50)},[P,L]);return((0,o.useEffect)(()=>{L>O&&O>0?J(O):0===L&&O>0&&J(1)},[P,O,L]),t)?(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between p-4 border-b bg-background",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground",children:(0,s.jsx)(V.A,{className:"h-5 w-5"})}),(0,s.jsxs)("h1",{className:"text-xl font-semibold",children:[(0,s.jsx)("span",{className:"font-light",children:"LCI:"})," Mural de Influ\xeancia"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(r.$,{variant:"ghost",size:"icon",onClick:()=>{b("dark"===j?"light":"dark")},children:"dark"===j?(0,s.jsx)(T.A,{className:"h-5 w-5"}):(0,s.jsx)($.A,{className:"h-5 w-5"})}),(0,s.jsxs)(eK,{children:[(0,s.jsx)(eQ,{asChild:!0,children:(0,s.jsx)(r.$,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8 bg-primary/20 text-primary",children:(null==(e=t.displayName)?void 0:e.charAt(0).toUpperCase())||(null==(a=t.email)?void 0:a.charAt(0).toUpperCase())})}),(0,s.jsxs)(e0,{align:"end",children:[(0,s.jsx)(e5,{children:"Minha Conta"}),(0,s.jsx)(e2,{}),(0,s.jsx)(e1,{asChild:!0,children:(0,s.jsxs)(e8(),{href:"/profile",children:[(0,s.jsx)(q.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Perfil"})]})}),(0,s.jsxs)(e1,{onClick:i,children:[(0,s.jsx)(H.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Sair"})]})]})]})]})]}),(0,s.jsx)("main",{className:"flex-1 p-4 md:p-8 bg-secondary/50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4 mb-6",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold",children:[d,", ",(0,s.jsxs)("span",{className:"text-primary",children:[t.displayName||t.email,"!"]})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Encontre, gerencie e adicione novos influenciadores ao seu mural."})]})}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 mb-4",children:[(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)(eP,{open:y,onOpenChange:w,children:[(0,s.jsx)(eO,{asChild:!0,children:(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(Z.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(l.p,{type:"search",placeholder:"Buscar por nome, @, ou nota...",className:"pl-9 w-full",value:m,onChange:e=>{g(e.target.value),e.target.value.length>0?w(!0):w(!1)}})]})}),(0,s.jsx)(e_,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:(0,s.jsxs)(eT,{children:[(0,s.jsx)(e$,{placeholder:"Digite para buscar..."}),(0,s.jsxs)(eq,{children:[(0,s.jsx)(eH,{children:"Nenhum resultado."}),(0,s.jsx)(eZ,{children:N.filter(e=>e.name.toLowerCase().includes(m.toLowerCase())||e.instagram.toLowerCase().includes(m.toLowerCase())).slice(0,5).map(e=>(0,s.jsxs)(eG,{onSelect:()=>M(e.name),value:e.name,children:[e.name," (",e.instagram,")"]},e.id))})]})]})})]})}),(0,s.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap items-end gap-2 w-full",children:[(0,s.jsxs)("div",{className:"flex-1 basis-1/3 md:flex-initial",children:[(0,s.jsx)(n.J,{htmlFor:"sort-by",className:"text-xs text-muted-foreground",children:"Ordenar por"}),(0,s.jsxs)(u,{value:I,onValueChange:e=>E(e),children:[(0,s.jsx)(x,{id:"sort-by",className:"w-full",children:(0,s.jsx)(f,{placeholder:"Ordenar por"})}),(0,s.jsxs)(p,{children:[(0,s.jsx)(h,{value:"lastUpdate",children:"\xdaltima Edi\xe7\xe3o"}),(0,s.jsx)(h,{value:"followers",children:"Seguidores"})]})]})]}),(0,s.jsxs)("div",{className:"flex-1 basis-1/3 md:flex-initial",children:[(0,s.jsx)(n.J,{htmlFor:"sort-direction",className:"text-xs text-muted-foreground",children:"Dire\xe7\xe3o"}),(0,s.jsxs)(u,{value:U,onValueChange:e=>B(e),children:[(0,s.jsx)(x,{id:"sort-direction",className:"w-full",children:(0,s.jsx)(f,{placeholder:"Dire\xe7\xe3o"})}),(0,s.jsxs)(p,{children:[(0,s.jsx)(h,{value:"desc",children:"Decrescente"}),(0,s.jsx)(h,{value:"asc",children:"Crescente"})]})]})]}),(0,s.jsxs)("div",{className:"flex-1 basis-full md:flex-initial",children:[(0,s.jsx)(n.J,{htmlFor:"status-filter",className:"text-xs text-muted-foreground",children:"Filtrar por Status"}),(0,s.jsxs)(u,{value:D,onValueChange:z,children:[(0,s.jsx)(x,{id:"status-filter",className:"w-full",children:(0,s.jsx)(f,{placeholder:"Status"})}),(0,s.jsxs)(p,{children:[(0,s.jsx)(h,{value:"all",children:"Todos"}),(0,s.jsx)(h,{value:"Dispon\xedvel",children:"Dispon\xedvel"}),(0,s.jsx)(h,{value:"Em negocia\xe7\xe3o",children:"Em negocia\xe7\xe3o"}),(0,s.jsx)(h,{value:"Fechado",children:"Fechado"})]})]})]}),(0,s.jsx)("div",{className:"w-full md:w-auto md:ml-auto",children:(0,s.jsxs)(ey,{open:C,onOpenChange:A,children:[(0,s.jsx)(ew,{asChild:!0,children:(0,s.jsxs)(r.$,{className:"shrink-0 w-full md:w-auto",children:[(0,s.jsx)(G.A,{className:"mr-2 h-4 w-4"}),"Nova Postagem"]})}),(0,s.jsxs)(eR,{children:[(0,s.jsx)(ek,{children:(0,s.jsx)(eS,{children:"Adicionar Novo Influenciador"})}),(0,s.jsx)(_,{onFinished:()=>A(!1)})]})]})})]})]}),(0,s.jsx)(eL,{influencers:W,loading:R}),O>1&&(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,s.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:["P\xe1gina ",L," de ",O]}),(0,s.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>J(e=>Math.max(e-1,1)),disabled:1===L,children:"Anterior"}),(0,s.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>J(e=>Math.min(e+1,O)),disabled:L===O,children:"Pr\xf3xima"})]})]})})]}):null}},2523:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var s=t(5155),r=t(2115),l=t(9434);let n=r.forwardRef((e,a)=>{let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n})});n.displayName="Input"},2751:(e,a,t)=>{Promise.resolve().then(t.bind(t,1529))},5057:(e,a,t)=>{"use strict";t.d(a,{J:()=>d});var s=t(5155),r=t(2115),l=t(968),n=t(2085),o=t(9434);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.b,{ref:a,className:(0,o.cn)(i(),t),...r})});d.displayName=l.b.displayName},6104:(e,a,t)=>{"use strict";t.d(a,{IG:()=>c,db:()=>d,j2:()=>i});var s=t(3915),r=t(3004),l=t(5317),n=t(858);let o=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({projectId:"studio-324918385-59672",appId:"1:315068066482:web:f17a0ae92d4a0b1100f7ab",storageBucket:"studio-324918385-59672.appspot.com",apiKey:"AIzaSyA9sRKoMAT9ySFBoqF83j01XILP8cQIXtc",authDomain:"studio-324918385-59672.firebaseapp.com",measurementId:"",messagingSenderId:"315068066482"}),i=(0,r.xI)(o),d=(0,l.aU)(o),c=(0,n.c7)(o)},9434:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n,cn:()=>l});var s=t(2596),r=t(9688);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,s.$)(a))}function n(e){return e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"k":e.toString()}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,416,42,781,265,874,692,441,684,358],()=>a(2751)),_N_E=e.O()}]);