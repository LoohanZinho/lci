(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{285:(e,r,s)=>{"use strict";s.d(r,{$:()=>d,r:()=>o});var a=s(5155),t=s(2115),n=s(9708),i=s(2085),l=s(9434);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=t.forwardRef((e,r)=>{let{className:s,variant:t,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:t,size:i,className:s})),ref:r,...c})});d.displayName="Button"},460:(e,r,s)=>{"use strict";s.d(r,{AuthProvider:()=>m,A:()=>f});var a=s(5155),t=s(2115),n=s(3004),i=s(6104),l=s(5695);function o(){return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm",children:[(0,a.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,a.jsx)("p",{className:"mt-4 text-lg text-muted-foreground",children:"Verificando sess\xe3o..."})]})}var d=s(5317);let c=["lohansantosborges@gmail.com","natanrabelo934@gmail.com"],u=(0,t.createContext)(void 0);function m(e){let{children:r}=e,[s,m]=(0,t.useState)(null),[f,x]=(0,t.useState)(null),[p,h]=(0,t.useState)(!0),[b,g]=(0,t.useState)(!1),v=(0,l.useRouter)(),j=(0,l.usePathname)();(0,t.useEffect)(()=>{let e=(0,n.hg)(i.j2,async e=>{if(m(e),e){g(c.includes(e.email||""));let r=(0,d.H9)(i.db,"users",e.uid),s=await (0,d.x7)(r);if(s.exists())x(s.data());else{let s={name:e.displayName||"",email:e.email||"",isAnonymous:!e.displayName};await (0,d.BN)(r,s),x(s)}}else g(!1),x(null);h(!1)});return()=>e()},[]),(0,t.useEffect)(()=>{if(p)return;let e="/login"===j||"/signup"===j;s||e?s&&e&&v.push("/"):v.push("/login")},[s,p,j,v]);let y=async(e,r,s)=>{let a=(await (0,n.eJ)(i.j2,e,r)).user;if(a){await (0,n.r7)(a,{displayName:s});let r={name:s,email:e,isAnonymous:!1};await (0,d.BN)((0,d.H9)(i.db,"users",a.uid),r),await a.reload(),m(i.j2.currentUser),x(r)}},N=async(e,r)=>{await (0,n.x9)(i.j2,e,r)},w=async()=>{await (0,n.CI)(i.j2)},k=async e=>{if(i.j2.currentUser){await (0,n.r7)(i.j2.currentUser,{displayName:e.name});let r=(0,d.H9)(i.db,"users",i.j2.currentUser.uid),s={name:e.name,email:i.j2.currentUser.email||"",isAnonymous:e.isAnonymous};await (0,d.BN)(r,s,{merge:!0}),await i.j2.currentUser.reload(),m(i.j2.currentUser),x(s)}else throw Error("Nenhum usu\xe1rio logado para atualizar.")};return(0,a.jsx)(u.Provider,{value:{user:s,loading:p,isAdmin:b,userProfile:f,signup:y,login:N,logout:w,updateUserProfile:k},children:p?(0,a.jsx)(o,{}):r})}function f(){let e=(0,t.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2523:(e,r,s)=>{"use strict";s.d(r,{p:()=>i});var a=s(5155),t=s(2115),n=s(9434);let i=t.forwardRef((e,r)=>{let{className:s,type:t,...i}=e;return(0,a.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...i})});i.displayName="Input"},3199:(e,r,s)=>{Promise.resolve().then(s.bind(s,7058))},5057:(e,r,s)=>{"use strict";s.d(r,{J:()=>d});var a=s(5155),t=s(2115),n=s(968),i=s(2085),l=s(9434);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(n.b,{ref:r,className:(0,l.cn)(o(),s),...t})});d.displayName=n.b.displayName},6104:(e,r,s)=>{"use strict";s.d(r,{IG:()=>c,db:()=>d,j2:()=>o});var a=s(3915),t=s(3004),n=s(5317),i=s(858);let l=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({projectId:"studio-324918385-59672",appId:"1:315068066482:web:f17a0ae92d4a0b1100f7ab",storageBucket:"studio-324918385-59672.appspot.com",apiKey:"AIzaSyA9sRKoMAT9ySFBoqF83j01XILP8cQIXtc",authDomain:"studio-324918385-59672.firebaseapp.com",measurementId:"",messagingSenderId:"315068066482"}),o=(0,t.xI)(l),d=(0,n.aU)(l),c=(0,i.c7)(l)},6695:(e,r,s)=>{"use strict";s.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>l,wL:()=>u});var a=s(5155),t=s(2115),n=s(9434);let i=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})});i.displayName="Card";let l=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...t})});l.displayName="CardHeader";let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...t})});o.displayName="CardTitle";let d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",s),...t})});d.displayName="CardDescription";let c=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",s),...t})});c.displayName="CardContent";let u=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",s),...t})});u.displayName="CardFooter"},7058:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g});var a=s(5155),t=s(460),n=s(285),i=s(6695),l=s(5695),o=s(7550),d=s(2098),c=s(3509),u=s(1362),m=s(2115),f=s(5057),x=s(2523),p=s(4884),h=s(9434);let b=m.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(p.bL,{className:(0,h.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:r,children:(0,a.jsx)(p.zi,{className:(0,h.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0",s)})})});function g(){let{user:e,userProfile:r,logout:s,updateUserProfile:p}=(0,t.A)(),h=(0,l.useRouter)(),{theme:g,setTheme:v}=(0,u.D)(),[j,y]=(0,m.useState)(""),[N,w]=(0,m.useState)(!1),[k,A]=(0,m.useState)(!1),[S,C]=(0,m.useState)(""),[R,I]=(0,m.useState)("");if((0,m.useEffect)(()=>{r&&(y(r.name||""),w(r.isAnonymous||!1))},[r]),!e)return null;let B=async e=>{e.preventDefault(),I(""),C(""),A(!0);try{await p({name:j,isAnonymous:N}),C("Prefer\xeancias salvas com sucesso!")}catch(e){I("Ocorreu um erro ao salvar as prefer\xeancias. Tente novamente."),console.error(e)}finally{A(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-secondary/50",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between p-4 border-b bg-background",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>h.back(),children:(0,a.jsx)(o.A,{className:"h-5 w-5"})}),(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Meu Perfil"}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>{v("dark"===g?"light":"dark")},children:"dark"===g?(0,a.jsx)(d.A,{className:"h-5 w-5"}):(0,a.jsx)(c.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("main",{className:"p-4 md:p-8",children:(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:(null==r?void 0:r.name)||"Usu\xe1rio An\xf4nimo"}),(0,a.jsx)(i.BT,{children:"Gerencie suas informa\xe7\xf5es e prefer\xeancias."})]}),(0,a.jsxs)(i.Wu,{className:"space-y-6",children:[(0,a.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,a.jsx)(f.J,{htmlFor:"displayName",children:"Nome de Exibi\xe7\xe3o"}),(0,a.jsx)(x.p,{id:"displayName",value:j,onChange:e=>y(e.target.value),placeholder:"Seu nome",disabled:k})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,a.jsx)(f.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)("p",{id:"email",className:"text-sm font-medium text-muted-foreground pt-2",children:e.email})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(f.J,{htmlFor:"anonymous-mode",children:"Modo An\xf4nimo"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Seu nome n\xe3o ser\xe1 exibido nas postagens."})]}),(0,a.jsx)(b,{id:"anonymous-mode",checked:N,onCheckedChange:w,disabled:k})]}),R&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:R}),S&&(0,a.jsx)("p",{className:"text-sm text-green-600",children:S}),(0,a.jsx)(n.$,{type:"submit",className:"w-full",disabled:k,children:k?"Salvando...":"Salvar Altera\xe7\xf5es"})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)(n.$,{variant:"destructive",className:"w-full",onClick:s,children:"Sair da Conta"})})]})]})})})]})}b.displayName=p.bL.displayName},9434:(e,r,s)=>{"use strict";s.d(r,{Z:()=>i,cn:()=>n});var a=s(2596),t=s(9688);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.QP)((0,a.$)(r))}function i(e){return e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"k":e.toString()}}},e=>{var r=r=>e(e.s=r);e.O(0,[992,416,781,265,618,441,684,358],()=>r(3199)),_N_E=e.O()}]);